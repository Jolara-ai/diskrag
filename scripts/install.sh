#!/bin/bash

# DiskRAG ä¸€éµå®‰è£è…³æœ¬ï¼ˆä½¿ç”¨ uvï¼‰

set -e

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘   DiskRAG ä¸€éµå®‰è£è…³æœ¬ (ä½¿ç”¨ uv)    â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo

# æª¢æŸ¥ uv æ˜¯å¦å·²å®‰è£
echo "æª¢æŸ¥ uv æ˜¯å¦å·²å®‰è£..."
if ! command -v uv &> /dev/null; then
    echo "âš ï¸  uv æœªå®‰è£ï¼Œæ­£åœ¨å®‰è£..."
    curl -LsSf https://astral.sh/uv/install.sh | sh
    
    # é‡æ–°è¼‰å…¥ PATH
    export PATH="$HOME/.cargo/bin:$PATH"
    
    # å¦‚æœé‚„æ‰¾ä¸åˆ°ï¼Œæç¤ºç”¨æˆ¶
    if ! command -v uv &> /dev/null; then
        echo "âŒ uv å®‰è£å¾Œä»ç„¡æ³•æ‰¾åˆ°ï¼Œè«‹é‡æ–°é–‹å•Ÿçµ‚ç«¯æˆ–åŸ·è¡Œï¼š"
        echo "   source ~/.zshrc  # æˆ– source ~/.bash_profile"
        echo "ç„¶å¾Œé‡æ–°åŸ·è¡Œ make install"
        exit 1
    fi
    echo "âœ… uv å®‰è£å®Œæˆ"
else
    echo "âœ… æ‰¾åˆ° uv: $(uv --version)"
fi

# ä½¿ç”¨ uv å»ºç«‹è™›æ“¬ç’°å¢ƒï¼ˆæœƒè‡ªå‹•å®‰è£ Python 3.11 å¦‚æœæ²’æœ‰ï¼‰
echo
echo "ä½¿ç”¨ uv å»ºç«‹è™›æ“¬ç’°å¢ƒï¼ˆPython 3.11ï¼‰..."
if [ -d "venv" ] || [ -d ".venv" ]; then
    echo "âš ï¸  è™›æ“¬ç’°å¢ƒå·²å­˜åœ¨ï¼Œæ¸…é™¤ä¸¦é‡æ–°å»ºç«‹..."
    rm -rf venv .venv
fi

# ä½¿ç”¨ --clear æ¨™èªŒè‡ªå‹•æ¸…é™¤ï¼Œä¸¦æŒ‡å®šç›®éŒ„åç‚º venv
uv venv --python 3.11 venv
if [ $? -ne 0 ]; then
    echo "âŒ å»ºç«‹è™›æ“¬ç’°å¢ƒå¤±æ•—"
    echo "è«‹ç¢ºèª uv å·²æ­£ç¢ºå®‰è£ï¼Œæˆ–æ‰‹å‹•åŸ·è¡Œ: uv venv --python 3.11 venv"
    exit 1
fi

# é©—è­‰è™›æ“¬ç’°å¢ƒæ˜¯å¦æ­£ç¢ºå»ºç«‹
if [ ! -d "venv" ] || [ ! -f "venv/bin/python" ]; then
    echo "âŒ è™›æ“¬ç’°å¢ƒå»ºç«‹ä¸å®Œæ•´"
    exit 1
fi

echo "âœ… è™›æ“¬ç’°å¢ƒå»ºç«‹å®Œæˆ"

# å•Ÿç”¨è™›æ“¬ç’°å¢ƒ
echo "å•Ÿç”¨è™›æ“¬ç’°å¢ƒ..."
source venv/bin/activate

# é©—è­‰ Python æ˜¯å¦å¯ç”¨
if ! venv/bin/python --version >/dev/null 2>&1; then
    echo "âŒ è™›æ“¬ç’°å¢ƒä¸­çš„ Python ä¸å¯ç”¨"
    exit 1
fi

# ä½¿ç”¨ uv å®‰è£ä¾è³´ï¼ˆé€Ÿåº¦æ›´å¿«ï¼‰
# æ˜ç¢ºæŒ‡å®šè™›æ“¬ç’°å¢ƒè·¯å¾‘ï¼Œé¿å… uv æ‰¾ä¸åˆ°
echo
echo "ä½¿ç”¨ uv å®‰è£ä¾è³´å¥—ä»¶..."
uv pip install --python venv/bin/python --upgrade pip setuptools wheel

# å®‰è£ NumPyï¼ˆç¢ºä¿æ­£ç¢ºå®‰è£ï¼‰
echo "å®‰è£ NumPy..."
uv pip install --python venv/bin/python numpy || {
    echo "âš ï¸  NumPy å®‰è£å¤±æ•—ï¼Œå˜—è©¦å¼·åˆ¶é‡æ–°å®‰è£..."
    uv pip install --python venv/bin/python --force-reinstall --no-cache-dir numpy
}

# é©—è­‰ NumPy å®‰è£
if ! venv/bin/python -c "import numpy" 2>/dev/null; then
    echo "âŒ NumPy å®‰è£å¤±æ•—ï¼Œè«‹æª¢æŸ¥ Python ç‰ˆæœ¬å…¼å®¹æ€§"
    echo "å»ºè­°ä½¿ç”¨ Python 3.11"
    exit 1
fi

# å®‰è£å…¶ä»–ä¾è³´
uv pip install --python venv/bin/python -r requirements.txt

# ç¢ºä¿ pydantic å’Œ pydantic-core æ­£ç¢ºå®‰è£
echo
echo "é©—è­‰ä¸¦ä¿®å¾© pydantic å®‰è£..."
if ! venv/bin/python -c "import pydantic; from pydantic_core import __version__" 2>/dev/null; then
    echo "âš ï¸  pydantic æˆ– pydantic-core å°å…¥å¤±æ•—ï¼Œå˜—è©¦é‡æ–°å®‰è£..."
    # å…ˆå¸è¼‰å†é‡æ–°å®‰è£ï¼Œç¢ºä¿ä¹¾æ·¨å®‰è£
    uv pip uninstall --python venv/bin/python -y pydantic pydantic-core 2>/dev/null || true
    uv pip install --python venv/bin/python --no-cache-dir pydantic-core
    uv pip install --python venv/bin/python --no-cache-dir pydantic
    
    # å†æ¬¡é©—è­‰
    if ! venv/bin/python -c "import pydantic; from pydantic_core import __version__" 2>/dev/null; then
        echo "âš ï¸  æ¨™æº–å®‰è£å¤±æ•—ï¼Œå˜—è©¦å¼·åˆ¶é‡æ–°å®‰è£..."
        uv pip install --python venv/bin/python --force-reinstall --no-cache-dir pydantic-core pydantic
    fi
fi

# æœ€çµ‚é©—è­‰ pydantic å®‰è£
if ! venv/bin/python -c "import pydantic; from pydantic_core import __version__" 2>/dev/null; then
    echo "âŒ pydantic å®‰è£å¤±æ•—"
    echo "å»ºè­°ä½¿ç”¨ uv é‡æ–°å»ºç«‹è™›æ“¬ç’°å¢ƒï¼š"
    echo "  rm -rf venv"
    echo "  uv venv --python 3.11"
    echo "  make install"
    exit 1
fi
echo "âœ… pydantic å®‰è£é©—è­‰é€šé"

# å®‰è£ pydiskann
echo
echo "å®‰è£ pydiskann..."
uv pip install --python venv/bin/python -e pydiskann

# å»ºç«‹å¿…è¦ç›®éŒ„
echo
echo "å»ºç«‹ç›®éŒ„çµæ§‹..."
mkdir -p data collections logs examples

# å»ºç«‹é è¨­è¨­å®šæª”
if [ ! -f "config.yaml" ]; then
    echo "å»ºç«‹é è¨­è¨­å®šæª”..."
    cat > config.yaml << 'EOF'
# DiskRAG è¨­å®šæª”
collection: "default"

embedding:
  provider: "openai"
  model: "text-embedding-3-small"
  max_retries: 3
  retry_delay: 2

question_generation:
  enabled: true
  provider: "openai"
  model: "gpt-4o-mini"
  max_questions: 5
  temperature: 0.7
  max_retries: 3
  retry_delay: 2

chunk:
  size: 300
  overlap: 50
  min_size: 50

output:
  format: "parquet"
  compression: "snappy"

# æ–°å¢ç´¢å¼•åƒæ•¸å€å¡Š
index:
  R: 32
  L: 64
  alpha: 1.2
EOF
fi

# å»ºç«‹ç¯„ä¾‹ FAQ æª”æ¡ˆ
if [ ! -f "examples/faq_data.csv" ]; then
    echo "å»ºç«‹ç¯„ä¾‹ FAQ æª”æ¡ˆ..."
    cat > examples/faq_data.csv << 'EOF'
id,question,answer,source_file,source_page,source_section,source_image
faq_001,é€™ä»½ä½¿ç”¨æ‰‹å†Šé©ç”¨æ–¼å“ªå€‹å‹è™Ÿçš„æ´—ç¢—æ©Ÿï¼Ÿ,é©ç”¨æ–¼ EBF7531SBA å‹è™Ÿçš„å…¨åµŒå¼æ´—ç¢—æ©Ÿã€‚,EBF7531SBA_ZH_Manual.pdf,1,å°é¢,images/cover.png
faq_002,å¦‚ä½•è³¼è²·åŸè£é…ä»¶ï¼Ÿ,æ‡‰é€ è¨ª https://www.bosch-home.com/accessories/ æˆ–è¯çµ¡ç•¶åœ°æˆæ¬Šç¶“éŠ·å•†ã€‚,EBF7531SBA_ZH_Manual.pdf,2,é…ä»¶è³‡è¨Š,
faq_003,8æ­²ä»¥ä¸‹çš„é’å°‘å¹´å¯ä»¥ä½¿ç”¨å—ï¼Ÿ,ä¸å¯ä»¥ï¼Œæœªæ»¿ 8 æ­²çš„é’å°‘å¹´ä¸å¾—ä½¿ç”¨æœ¬æ©Ÿã€‚,EBF7531SBA_ZH_Manual.pdf,3,å®‰å…¨è³‡è¨Š,images/safety.png
faq_004,å¦‚ä½•è¨­å®šæ°´è³ªç¡¬åº¦ï¼Ÿ,åœ¨åŸºæœ¬è¨­å®šä¸­ï¼Œé¸æ“‡ã€Œæ°´è³ªç¡¬åº¦ã€é¸é …ï¼Œä¸¦å¾ç­‰ç´š 1 åˆ° 10 ä¸­é¸æ“‡å°æ‡‰æ‚¨æ‰€åœ¨åœ°å€çš„æ°´è³ªç¡¬åº¦ã€‚,EBF7531SBA_ZH_Manual.pdf,15,åŸºæœ¬è¨­å®š,images/water_hardness.png
faq_005,æ´—ç¢—æ©Ÿå¯ä»¥æ´—æ»Œå“ªäº›ç‰©å“ï¼Ÿ,å¯ä»¥æ´—æ»Œï¼šé¤å…·ã€ç»ç’ƒæ¯ã€ç¢—ç›¤ã€é‹å…·ç­‰ã€‚ä¸å¯æ´—æ»Œï¼šæœ¨è£½é¤å…·ã€é‹è£½é‹å…·ã€å¡‘è† å®¹å™¨ç­‰ã€‚,EBF7531SBA_ZH_Manual.pdf,8,ä½¿ç”¨èªªæ˜,images/items.png
faq_006,å¦‚ä½•é¸æ“‡é©åˆçš„æ´—æ»Œç¨‹å¼ï¼Ÿ,æ ¹æ“šé¤å…·çš„é«’æ±¡ç¨‹åº¦å’Œé¡å‹é¸æ“‡å°æ‡‰çš„æ´—æ»Œç¨‹å¼ï¼Œä¾‹å¦‚ï¼šè¼•åº¦é«’æ±¡é¸æ“‡å¿«é€Ÿæ´—æ»Œï¼Œé‡åº¦æ²¹æ±¡é¸æ“‡å¼·åŠ›æ´—æ»Œã€‚,EBF7531SBA_ZH_Manual.pdf,10,æ“ä½œèªªæ˜,images/programs.png
faq_007,æ´—ç¢—æ©Ÿéœ€è¦å¤šä¹…æ¸…æ´—ä¸€æ¬¡ï¼Ÿ,å»ºè­°æ¯å€‹æœˆè‡³å°‘æ¸…æ´—ä¸€æ¬¡ï¼Œä½¿ç”¨å°ˆç”¨æ¸…æ½”åŠ‘ä¸¦åŸ·è¡Œæ¸…æ½”ç¨‹å¼ï¼Œä»¥ä¿æŒæ©Ÿå™¨æœ€ä½³æ•ˆèƒ½ã€‚,EBF7531SBA_ZH_Manual.pdf,12,ä¿é¤Šç¶­è­·,images/cleaning.png
faq_008,å¦‚ä½•æ­£ç¢ºæ“ºæ”¾é¤å…·ï¼Ÿ,å°‡é¤å…·æ“ºæ”¾åœ¨å°ˆç”¨ç±ƒå­ä¸­ï¼Œç¢ºä¿é¤å…·ä¹‹é–“æœ‰é©ç•¶é–“è·ï¼Œé¿å…é‡ç–Šé®æ“‹ï¼Œä»¥ç¢ºä¿æ°´æµèƒ½å……åˆ†æ²–æ´—ã€‚,EBF7531SBA_ZH_Manual.pdf,9,ä½¿ç”¨èªªæ˜,images/loading.png
faq_009,æ´—ç¢—æ©Ÿä½¿ç”¨æ™‚æœƒå¾ˆè€—é›»å—ï¼Ÿ,ç¾ä»£æ´—ç¢—æ©Ÿè¨­è¨ˆç¯€èƒ½ï¼Œå–®æ¬¡æ´—æ»Œè€—é›»é‡ç´„ 0.8-1.2 åº¦ï¼Œæ¯”æ‰‹æ´—æ›´ç¯€çœæ°´è³‡æºã€‚,EBF7531SBA_ZH_Manual.pdf,11,ç¯€èƒ½è³‡è¨Š,images/energy.png
faq_010,å¦‚ä½•è™•ç†æ´—ç¢—æ©Ÿç•°å‘³ï¼Ÿ,å®šæœŸæ¸…æ½”éæ¿¾ç¶²ï¼Œä½¿ç”¨å°ˆç”¨æ¸…æ½”åŠ‘ï¼Œä¸¦ç¢ºä¿æ¯æ¬¡ä½¿ç”¨å¾Œä¿æŒé–€æ¿å¾®é–‹é€šé¢¨ã€‚,EBF7531SBA_ZH_Manual.pdf,12,æ•…éšœæ’é™¤,images/odor.png
faq_011,æ´—ç¢—æ©Ÿå¯ä»¥æ´—ä¸é½é‹¼é¤å…·å—ï¼Ÿ,å¯ä»¥ï¼Œä¸é½é‹¼é¤å…·æ˜¯æ´—ç¢—æ©Ÿæœ€é©åˆæ¸…æ´—çš„æè³ªä¹‹ä¸€ï¼Œä½†å»ºè­°é¿å…èˆ‡å…¶ä»–é‡‘å±¬é¤å…·ç›´æ¥æ¥è§¸ã€‚,EBF7531SBA_ZH_Manual.pdf,8,ä½¿ç”¨èªªæ˜,images/stainless.png
faq_012,å¦‚ä½•å»¶é•·æ´—ç¢—æ©Ÿä½¿ç”¨å£½å‘½ï¼Ÿ,å®šæœŸä¿é¤Šã€ä½¿ç”¨è»Ÿæ°´ã€é¿å…éåº¦è² è¼‰ã€åŠæ™‚æ¸…ç†éæ¿¾ç¶²ï¼Œä¸¦æŒ‰ç…§èªªæ˜æ›¸æ­£ç¢ºæ“ä½œã€‚,EBF7531SBA_ZH_Manual.pdf,13,ä¿é¤Šå»ºè­°,images/maintenance.png
faq_013,æ´—ç¢—æ©Ÿçš„æ´—æ»Œæ™‚é–“æ˜¯å¤šä¹…ï¼Ÿ,æ ¹æ“šé¸æ“‡çš„ç¨‹å¼ä¸åŒï¼Œæ´—æ»Œæ™‚é–“å¾ 30 åˆ†é˜åˆ° 3 å°æ™‚ä¸ç­‰ï¼Œå¿«é€Ÿç¨‹å¼ç´„ 30-60 åˆ†é˜ã€‚,EBF7531SBA_ZH_Manual.pdf,10,ç¨‹å¼èªªæ˜,images/timing.png
faq_014,å¦‚ä½•åˆ¤æ–·æ´—ç¢—æ©Ÿæ˜¯å¦éœ€è¦ç¶­ä¿®ï¼Ÿ,å¦‚æœå‡ºç¾ç•°å¸¸å™ªéŸ³ã€ç„¡æ³•å•Ÿå‹•ã€æ´—æ»Œä¸ä¹¾æ·¨ã€æ¼æ°´ç­‰å•é¡Œï¼Œæ‡‰è¯ç¹«å°ˆæ¥­ç¶­ä¿®äººå“¡æª¢æŸ¥ã€‚,EBF7531SBA_ZH_Manual.pdf,14,æ•…éšœæ’é™¤,images/troubleshooting.png
faq_015,æ´—ç¢—æ©Ÿå¯ä»¥æ´—å¬°å…’ç”¨å“å—ï¼Ÿ,å¯ä»¥ï¼Œä½†å»ºè­°ä½¿ç”¨é«˜æº«æ´—æ»Œç¨‹å¼ï¼Œä¸¦ç¢ºä¿å¬°å…’ç”¨å“æè³ªé©åˆé«˜æº«æ¸…æ´—ï¼Œä½¿ç”¨å¾Œå¾¹åº•æ²–æ´—ã€‚,EBF7531SBA_ZH_Manual.pdf,8,ä½¿ç”¨èªªæ˜,images/baby.png
faq_016,å¦‚ä½•é¸æ“‡é©åˆçš„æ´—ç¢—æ©Ÿæ¸…æ½”åŠ‘ï¼Ÿ,é¸æ“‡å°ˆç‚ºæ´—ç¢—æ©Ÿè¨­è¨ˆçš„æ¸…æ½”åŠ‘ï¼Œé¿å…ä½¿ç”¨ä¸€èˆ¬æ´—æ½”ç²¾ï¼Œä»¥å…ç”¢ç”Ÿéå¤šæ³¡æ²«å½±éŸ¿æ´—æ»Œæ•ˆæœã€‚,EBF7531SBA_ZH_Manual.pdf,12,ä¿é¤Šç¶­è­·,images/detergent.png
faq_017,æ´—ç¢—æ©Ÿçš„å®¹é‡å¦‚ä½•è¨ˆç®—ï¼Ÿ,å®¹é‡ä»¥æ¨™æº–é¤å…·çµ„æ•¸è¨ˆç®—ï¼Œä¸€èˆ¬å®¶ç”¨æ´—ç¢—æ©Ÿå¯å®¹ç´ 12-16 äººä»½çš„æ¨™æº–é¤å…·çµ„ã€‚,EBF7531SBA_ZH_Manual.pdf,7,è¦æ ¼èªªæ˜,images/capacity.png
faq_018,å¦‚ä½•è™•ç†æ´—ç¢—æ©Ÿæ¼æ°´å•é¡Œï¼Ÿ,æª¢æŸ¥é–€å°æ¢æ˜¯å¦æå£ã€éæ¿¾ç¶²æ˜¯å¦æ­£ç¢ºå®‰è£ã€é€²æ°´ç®¡æ˜¯å¦é¬†å‹•ï¼Œå¦‚ç„¡æ³•è§£æ±ºæ‡‰è¯ç¹«ç¶­ä¿®ã€‚,EBF7531SBA_ZH_Manual.pdf,14,æ•…éšœæ’é™¤,images/leak.png
faq_019,æ´—ç¢—æ©Ÿéœ€è¦é å…ˆæ²–æ´—é¤å…·å—ï¼Ÿ,ä¸éœ€è¦ï¼Œåªéœ€æ¸…é™¤å¤§å¡Šé£Ÿç‰©æ®˜æ¸£å³å¯ï¼Œç¾ä»£æ´—ç¢—æ©Ÿè¨­è¨ˆå¯è™•ç†ä¸€èˆ¬ç¨‹åº¦çš„é«’æ±¡ã€‚,EBF7531SBA_ZH_Manual.pdf,9,ä½¿ç”¨èªªæ˜,images/prewash.png
faq_020,å¦‚ä½•è¨­å®šæ´—ç¢—æ©Ÿçš„çƒ˜ä¹¾åŠŸèƒ½ï¼Ÿ,åœ¨æ´—æ»Œç¨‹å¼çµæŸå¾Œï¼Œå¯é¸æ“‡çƒ˜ä¹¾ç¨‹å¼æˆ–ä½¿ç”¨é¤˜ç†±çƒ˜ä¹¾ï¼Œéƒ¨åˆ†æ©Ÿå‹æ”¯æ´è‡ªå‹•çƒ˜ä¹¾è¨­å®šã€‚,EBF7531SBA_ZH_Manual.pdf,10,ç¨‹å¼èªªæ˜,images/drying.png
faq_021,æ´—ç¢—æ©Ÿå¯ä»¥æ´—ç»ç’ƒå™¨çš¿å—ï¼Ÿ,å¯ä»¥ï¼Œç»ç’ƒå™¨çš¿æ˜¯æ´—ç¢—æ©Ÿæœ€é©åˆæ¸…æ´—çš„æè³ªä¹‹ä¸€ï¼Œå»ºè­°ä½¿ç”¨æº«å’Œæ´—æ»Œç¨‹å¼ä¸¦æ­£ç¢ºæ“ºæ”¾ã€‚,EBF7531SBA_ZH_Manual.pdf,8,ä½¿ç”¨èªªæ˜,images/glass.png
faq_022,å¦‚ä½•è™•ç†æ´—ç¢—æ©Ÿçš„å™ªéŸ³å•é¡Œï¼Ÿ,æ­£å¸¸é‹ä½œæ™‚æœƒæœ‰æ°´æµè²ï¼Œå¦‚æœå‡ºç¾ç•°å¸¸å™ªéŸ³å¯èƒ½æ˜¯éæ¿¾ç¶²å µå¡æˆ–å™´è‡‚æ•…éšœï¼Œæ‡‰æª¢æŸ¥ä¸¦æ¸…ç†ã€‚,EBF7531SBA_ZH_Manual.pdf,14,æ•…éšœæ’é™¤,images/noise.png
faq_023,æ´—ç¢—æ©Ÿçš„è€—æ°´é‡æ˜¯å¤šå°‘ï¼Ÿ,å–®æ¬¡æ´—æ»Œè€—æ°´é‡ç´„ 10-15 å…¬å‡ï¼Œæ¯”æ‰‹æ´—æ›´ç¯€çœæ°´è³‡æºï¼Œä¸”ä½¿ç”¨å¾ªç’°æ°´ç³»çµ±æé«˜æ•ˆç‡ã€‚,EBF7531SBA_ZH_Manual.pdf,11,ç¯€èƒ½è³‡è¨Š,images/water.png
faq_024,å¦‚ä½•ä¿é¤Šæ´—ç¢—æ©Ÿçš„é–€å°æ¢ï¼Ÿ,å®šæœŸç”¨è»Ÿå¸ƒæ“¦æ‹­é–€å°æ¢ï¼Œä¿æŒæ¸…æ½”ä¹¾ç‡¥ï¼Œé¿å…ä½¿ç”¨å¼·åŠ›æ¸…æ½”åŠ‘ï¼Œå¦‚æœ‰æå£æ‡‰åŠæ™‚æ›´æ›ã€‚,EBF7531SBA_ZH_Manual.pdf,13,ä¿é¤Šå»ºè­°,images/seal.png
faq_025,æ´—ç¢—æ©Ÿå¯ä»¥æ´—é™¶ç“·é¤å…·å—ï¼Ÿ,å¯ä»¥ï¼Œé™¶ç“·é¤å…·å®Œå…¨é©åˆæ´—ç¢—æ©Ÿæ¸…æ´—ï¼Œå»ºè­°ä½¿ç”¨æ¨™æº–æ´—æ»Œç¨‹å¼å³å¯ã€‚,EBF7531SBA_ZH_Manual.pdf,8,ä½¿ç”¨èªªæ˜,images/ceramic.png
faq_026,å¦‚ä½•è™•ç†æ´—ç¢—æ©Ÿç„¡æ³•å•Ÿå‹•çš„å•é¡Œï¼Ÿ,æª¢æŸ¥é›»æºé€£æ¥ã€é–€æ˜¯å¦é—œç·Šã€æ°´é¾é ­æ˜¯å¦é–‹å•Ÿã€éæ¿¾ç¶²æ˜¯å¦å µå¡ï¼Œå¦‚ç„¡æ³•è§£æ±ºæ‡‰è¯ç¹«ç¶­ä¿®ã€‚,EBF7531SBA_ZH_Manual.pdf,14,æ•…éšœæ’é™¤,images/startup.png
faq_027,æ´—ç¢—æ©Ÿçš„æ´—æ»Œæº«åº¦æ˜¯å¤šå°‘ï¼Ÿ,æ ¹æ“šé¸æ“‡çš„ç¨‹å¼ä¸åŒï¼Œæ´—æ»Œæº«åº¦å¾ 30Â°C åˆ° 70Â°C ä¸ç­‰ï¼Œé«˜æº«ç¨‹å¼å¯æœ‰æ•ˆæ®ºèŒã€‚,EBF7531SBA_ZH_Manual.pdf,10,ç¨‹å¼èªªæ˜,images/temperature.png
faq_028,å¦‚ä½•é¸æ“‡é©åˆçš„æ´—ç¢—æ©Ÿé¹½ï¼Ÿ,é¸æ“‡å°ˆç‚ºæ´—ç¢—æ©Ÿè¨­è¨ˆçš„è»ŸåŒ–é¹½ï¼Œå®šæœŸæª¢æŸ¥é¹½å€‰æ˜¯å¦éœ€è¦è£œå……ï¼Œä»¥ä¿è­·æ©Ÿå™¨ä¸¦æé«˜æ´—æ»Œæ•ˆæœã€‚,EBF7531SBA_ZH_Manual.pdf,12,ä¿é¤Šç¶­è­·,images/salt.png
faq_029,æ´—ç¢—æ©Ÿå¯ä»¥æ´—å¡‘è† å®¹å™¨å—ï¼Ÿ,éƒ¨åˆ†å¡‘è† å®¹å™¨å¯ä»¥ï¼Œä½†éœ€ç¢ºèªå®¹å™¨æ¨™ç¤ºæ˜¯å¦é©åˆæ´—ç¢—æ©Ÿæ¸…æ´—ï¼Œé¿å…é«˜æº«è®Šå½¢æˆ–é‡‹æ”¾æœ‰å®³ç‰©è³ªã€‚,EBF7531SBA_ZH_Manual.pdf,8,ä½¿ç”¨èªªæ˜,images/plastic.png
faq_030,å¦‚ä½•è™•ç†æ´—ç¢—æ©Ÿæ´—ä¸ä¹¾æ·¨çš„å•é¡Œï¼Ÿ,æª¢æŸ¥æ¸…æ½”åŠ‘æ˜¯å¦è¶³å¤ ã€æ°´è³ªç¡¬åº¦è¨­å®šæ˜¯å¦æ­£ç¢ºã€éæ¿¾ç¶²æ˜¯å¦å µå¡ã€å™´è‡‚æ˜¯å¦æ­£å¸¸é‹è½‰ã€‚,EBF7531SBA_ZH_Manual.pdf,14,æ•…éšœæ’é™¤,images/cleaning_issue.png
faq_031,æ´—ç¢—æ©Ÿçš„çƒ˜ä¹¾æ–¹å¼æœ‰å“ªäº›ï¼Ÿ,åŒ…æ‹¬é¤˜ç†±çƒ˜ä¹¾ã€å¼·åˆ¶çƒ˜ä¹¾ã€è‡ªå‹•é–‹é–€çƒ˜ä¹¾ç­‰ï¼Œä¸åŒæ©Ÿå‹æ”¯æ´çš„çƒ˜ä¹¾æ–¹å¼å¯èƒ½ä¸åŒã€‚,EBF7531SBA_ZH_Manual.pdf,10,ç¨‹å¼èªªæ˜,images/dry_methods.png
faq_032,å¦‚ä½•å»¶é•·æ´—ç¢—æ©Ÿéæ¿¾ç¶²çš„ä½¿ç”¨å£½å‘½ï¼Ÿ,æ¯æ¬¡ä½¿ç”¨å¾Œæ¸…ç†éæ¿¾ç¶²ï¼Œé¿å…é£Ÿç‰©æ®˜æ¸£å †ç©ï¼Œå®šæœŸç”¨è»Ÿåˆ·æ¸…æ´—ï¼Œå¦‚æœ‰æå£æ‡‰åŠæ™‚æ›´æ›ã€‚,EBF7531SBA_ZH_Manual.pdf,13,ä¿é¤Šå»ºè­°,images/filter.png
EOF
fi

# å»ºç«‹ç¯„ä¾‹æª”æ¡ˆ
if [ ! -f "data/example.csv" ]; then
    echo "å»ºç«‹ç¯„ä¾‹æª”æ¡ˆ..."
    cat > data/example.csv << 'EOF'
question,answer
ä»€éº¼æ˜¯ DiskANNï¼Ÿ,DiskANN æ˜¯ä¸€å€‹å¯æ“´å±•çš„è¿‘ä¼¼æœ€è¿‘é„°æœå°‹æ¼”ç®—æ³•ï¼Œå°ˆé–€è¨­è¨ˆç”¨æ–¼è™•ç†å¤§è¦æ¨¡å‘é‡è³‡æ–™é›†ï¼Œç‰¹åˆ¥æ˜¯ç•¶è³‡æ–™é›†å¤§å°è¶…éè¨˜æ†¶é«”å®¹é‡æ™‚ã€‚
DiskANN è§£æ±ºäº†ä»€éº¼å•é¡Œï¼Ÿ,DiskANN è§£æ±ºäº†å¤§è¦æ¨¡å‘é‡æœå°‹ä¸­çš„è¨˜æ†¶é«”é™åˆ¶å•é¡Œï¼Œå…è¨±åœ¨ç£ç¢Ÿä¸Šå»ºç«‹å’ŒæŸ¥è©¢åå„„ç´šåˆ¥çš„å‘é‡ç´¢å¼•ï¼ŒåŒæ™‚ä¿æŒé«˜ç²¾åº¦å’Œé«˜æ•ˆèƒ½ã€‚
DiskANN çš„æ ¸å¿ƒåŸç†æ˜¯ä»€éº¼ï¼Ÿ,DiskANN çµåˆäº†åœ–å½¢å°èˆªæœå°‹å’Œåˆ†å±¤ç´¢å¼•çµæ§‹ï¼Œå°‡ç†±é»è³‡æ–™ä¿å­˜åœ¨è¨˜æ†¶é«”ä¸­ï¼Œå†·è³‡æ–™å„²å­˜åœ¨ç£ç¢Ÿä¸Šï¼Œé€éæ™ºèƒ½çš„è³‡æ–™åˆ†å±¤ä¾†å„ªåŒ–æŸ¥è©¢æ•ˆèƒ½ã€‚
ä»€éº¼æ˜¯ Vamana åœ–ï¼Ÿ,Vamana æ˜¯ DiskANN ä½¿ç”¨çš„åœ–å½¢çµæ§‹ï¼Œå®ƒæ˜¯ä¸€å€‹åº¦æ•¸å—é™çš„åœ–ï¼Œæ¯å€‹ç¯€é»çš„é„°å±…æ•¸é‡æœ‰ä¸Šé™ï¼Œé€™æ¨£å¯ä»¥æ§åˆ¶è¨˜æ†¶é«”ä½¿ç”¨é‡ä¸¦æé«˜æœç´¢æ•ˆç‡ã€‚
DiskANN ç›¸æ¯”æ–¼å…¶ä»– ANN æ¼”ç®—æ³•æœ‰ä»€éº¼å„ªå‹¢ï¼Ÿ,DiskANN çš„ä¸»è¦å„ªå‹¢åŒ…æ‹¬ï¼š1) å¯è™•ç†è¶…å¤§è¦æ¨¡è³‡æ–™é›† 2) è¨˜æ†¶é«”ä½¿ç”¨é‡å¯æ§ 3) æŸ¥è©¢å»¶é²ç©©å®š 4) æ”¯æ´å‹•æ…‹æ›´æ–° 5) åœ¨ç²¾åº¦å’Œæ•ˆèƒ½é–“æœ‰è‰¯å¥½å¹³è¡¡ã€‚
DiskANN å¦‚ä½•è™•ç†è¨˜æ†¶é«”ä¸è¶³çš„å•é¡Œï¼Ÿ,DiskANN ä½¿ç”¨åˆ†å±¤æ¶æ§‹ï¼Œå°‡ç¶“å¸¸è¨ªå•çš„ç¯€é»å’Œé‚Šç·©å­˜åœ¨è¨˜æ†¶é«”ä¸­ï¼Œè¼ƒå°‘è¨ªå•çš„æ•¸æ“šå­˜å„²åœ¨ç£ç¢Ÿä¸Šï¼Œé€šéé å–å’Œç·©å­˜ç­–ç•¥ä¾†æ¸›å°‘ç£ç¢Ÿ I/Oã€‚
EOF
fi

echo
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘          âœ… å®‰è£å®Œæˆï¼                â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo
echo "ğŸ“‹ ä¸‹ä¸€æ­¥ï¼š"
echo "  1. è¨­å®š OpenAI API Key:"
echo "     echo 'OPENAI_API_KEY=your-api-key' > .env"
echo "     æˆ–"
echo "     export OPENAI_API_KEY='your-api-key'"
echo ""
echo "  2. å¿«é€Ÿé«”é©—ï¼š"
echo "     make demo"
echo ""
echo "  3. æŸ¥çœ‹å®Œæ•´æ–‡æª”ï¼š"
echo "     cat README.md"
echo ""
echo "ğŸ’¡ æç¤ºï¼š"
echo "  - ä½¿ç”¨ 'make help' æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤"
echo "  - ä½¿ç”¨ 'diskrag list' æŸ¥çœ‹æ‰€æœ‰ collections"
echo "  - ä½¿ç”¨ 'diskrag search <collection> <query>' é€²è¡Œæœå°‹"
echo ""
